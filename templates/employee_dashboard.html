{% extends "base_dashboard.html" %}
{% set title = "Employee Dashboard" %}
{% set active = "dashboard" %}

{% block dashboard_content %}
<h2 class="mb-1">Welcome, {{ current_user.full_name }}</h2>
<p class="text-muted">Your personal office hub.</p>

<div class="row mt-4">
    {% from "partials/metric_card.html" import metric_card %}
    {% set leave_balance = current_user.get_leave_balance('casual')|string ~ ' / ' ~ current_user.get_leave_balance('sick')|string %}
    {{ metric_card('Casual / Sick Balance', leave_balance, 'fa-calendar-check', 'primary', url_for('employee_leave_balances')) }}
    {{ metric_card('Today Attendance', today_attendance|default('Absent'), 'fa-clock', 'success', url_for('employee_attendance')) }}
    {{ metric_card('Pending Leaves', my_pending_leaves|default(0), 'fa-hourglass-start', 'warning', '#') }}
    {{ metric_card('Salary Slips', salary_slips_count|default(0), 'fa-file-invoice-dollar', 'info', url_for('employee_salary_slips')) }}
</div>

<div class="row mt-4">
    <div class="col-12">
        <h5>Quick Links</h5>
        <div class="row">
            <div class="col-md-3 mb-2"><a href="{{ url_for('apply_leave') }}" class="btn btn-outline-primary btn-block">Apply Leave</a></div>
            <div class="col-md-3 mb-2"><a href="{{ url_for('employee_documents') }}" class="btn btn-outline-success btn-block">Documents</a></div>
            <div class="col-md-3 mb-2"><a href="{{ url_for('employee_holidays') }}" class="btn btn-outline-info btn-block">Holidays</a></div>
            <div class="col-md-3 mb-2"><a href="{{ url_for('employee_profile') }}" class="btn btn-outline-warning btn-block">Profile</a></div>
        </div>
    </div>
</div>
{% endblock %}